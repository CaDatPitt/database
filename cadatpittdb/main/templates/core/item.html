{% extends "core/base.html" %}
{% load static %}
{% block title %}{{ title }}{% endblock %}
{% block head %}
<link rel="stylesheet" href="{% static 'main.css' %}">
{% endblock%}
{% block content %}

<!-- Item Info -->
<h1>{{ item.title }}</h1>
<img src="{{ item.thumbnail }}"/>
<p class="contact"><strong>Creator:</strong> {{ item.creator }}</p>
<p class="contact"><strong>Date:</strong> {{ item.date }}</p>
<p class="contact"><strong>Type:</strong> 
    {% for type in item.get_types %}
        {{ type }}{% if type != item.get_types|last %},{% endif %}
    {% endfor %}
</p>
<p class="contact"><strong>Collections:</strong> 
    {% for collection in item.collections.all %}
    <br/>    
    <a href="{{ collection.get_urls.0 }}" target="_blank">{{ collection }}</a>
    {% endfor %}
</p>
<p class="contact"><strong>Tags:</strong> 
    {% for tag in item.tags.all %}
        {{ tag }}{% if tag != item.tags.all.last %},{% endif %}
    {% endfor %}
</p>
<br/>

<!-- Item Action Buttons -->
<a role="button" class="btn btn-primary bg-pitt-royal border-pitt-royal"
  href="https://digital.library.pitt.edu/islandora/object/pitt%3A{{ item.item_id}} " 
  target="_blank">View Full Item Info</a>
<a class="btn btn-primary bg-pitt-royal border-pitt-royal"
  href="" role="button">Pin Item</a>
<a class="btn btn-primary bg-pitt-royal border-pitt-royal"
  href="" role="button">Tag Item</a>
<hr style="margin-top: 1.75em;"/>

<!-- Datasets -->
<h4 class="mb-4">Datasets</h4>
<div class="row gy-4">
  {% for dataset in datasets %}
  <div class="col-md-6 col-xl-4">
    <div class="card h-100 shadow-sm bg-light-gray">
      <div class="card-header">
        <div class="row">
            <div class="col-9">
                <strong>Created by</strong>: 
                <a href="/profile/?user={{ dataset.created_by.username }}"
                >{{ dataset.created_by }}</a>
            </div>
            <div class="col-3 text-end">
                <a href="#" data-bs-toggle="tooltip" data-bs-placement="top"
                data-bs-title="Pin dataset"><img class="card-header-icons"
                src="{% static 'images/push_pin_FILL0_wght400_GRAD0_opsz48.svg' %}"></a>
                <a href="#" data-bs-toggle="tooltip" data-bs-placement="top" 
                  data-bs-title="Edit dataset"><img class="card-header-icons"
                  src="{% static 'images/edit_FILL0_wght400_GRAD0_opsz48.svg' %}"></a>
            </div>
        </div>
      </div>
      <div class="card-body">
        <h5 class="card-title">{{ dataset.title }}</h5>
        <h* class="card-subtitle">{{ dataset.description }}</h*>
        <p class="card-text mt-2"><strong># of items</strong>: 
            {{ dataset.number_items }}<br/>
        <strong>Last modified</strong>: {{ dataset.last_modified }}
        </p>
        <a class="btn btn-warning bg-pitt-gold border-pitt-gold" role="button"
            href="/dataset?id={{ dataset.public_id }}">View</a>
        <a class="btn btn-warning bg-pitt-gold border-pitt-gold" role="button"
            href="">Download</a>
      </div>
    </div>
  </div>
  {% endfor %}
</div>

<!-- Scripts -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
<script>
  var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
  var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
    return new bootstrap.Tooltip(tooltipTriggerEl)
  })
</script>
{% endblock %}
{% block bootstrapjs %}
{% endblock %}