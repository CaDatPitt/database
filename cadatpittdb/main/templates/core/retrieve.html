{% extends "core/base.html" %}
{% load static %}
{% block title %}{{ title }}{% endblock %}
{% block head %}
<link rel="stylesheet" href="{% static 'main.css' %}">
{% endblock%}
{% block navbar_retrieve %}class="nav-link active"{% endblock %}
{% block content %}
<h3>Retrieve Data</h1>
<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque aliquet sapien eget pulvinar venenatis. Quisque imperdiet dolor at cursus hendrerit. In consectetur porttitor ultrices.</p>
<hr/>
<div class="row mt-4">
    <!-- Filters -->
    <div class="col-md col-lg-4">
        <h5 align="left">Filters</h5>
        <div class="card shadow-sm bg-light-gray">
            <div class="card-body">
                <form method="POST">
                    {% csrf_token %}
                    <div class="form-group">
                        <label for="keywords" class="bold">Keywords</label>
                        <input 
                            type="text" 
                            class="form-control" 
                            id="keywords" 
                            name="keywords"
                            required>
                    </div>
                    <br />
                    <div class="form-group">
                        <label for="creator" class="bold">Creator</label>
                        <input 
                            type="text" 
                            class="form-control" 
                            id="creator" 
                            name="creator"
                            required>
                    </div>
                    <br />
                    <div class="form-group">
                        <label for="contributor" class="bold">Contributor</label>
                        <input 
                            type="text" 
                            class="form-control" 
                            id="contributor" 
                            name="contributor"
                            required>
                    </div>
                    <br />
                    <div class="form-group">
                        <label for="publisher" class="bold">Publisher</label>
                        <input 
                            type="text" 
                            class="form-control" 
                            id="publisher" 
                            name="publisher"
                            required>
                    </div>
                    <br />
                    <div class="form-group">
                        <label for="depositor" class="bold">Depositor</label>
                        <input 
                            type="text" 
                            class="form-control" 
                            id="depositor" 
                            name="depositor"
                            required>
                    </div>
                    <br />
                    <div class="row">
                        <div class="col">   
                            <div class="form-group">
                                <label for="start_year" class="bold">Start Year</label>
                                <input 
                                    type="number" 
                                    class="form-control" 
                                    id="start_year" 
                                    name="start_year"
                                    min="1900" max="2099" step="1"
                                    required>
                            </div>
                        </div>
                        <div class="col">   
                            <div class="form-group">
                                <label for="end_year" class="bold">End Year</label>
                                <input 
                                    type="number" 
                                    class="form-control" 
                                    id="end_year" 
                                    name="end_year"
                                    min="1900" max="2099" step="1"
                                    required>
                            </div>
                        </div>
                    </div>
                    <br />
                    <div class="form-group">
                        <label for="language" class="bold">Language</label>
                        <input 
                            type="text" 
                            class="form-control" 
                            id="language" 
                            name="language"
                            required>
                    </div>
                    <br/>
                    <div class="form-group">
                      <label for="description" class="bold">Description</label>
                      <input 
                        type="text" 
                        class="form-control" 
                        id="description" 
                        name="description"
                        required>
                    </div>
                    <br/>
                    <div class="form-group">
                        <label for="language" class="bold">Item Type</label>
                        <input 
                            type="text" 
                            class="form-control" 
                            id="language" 
                            name="language"
                            required>
                    </div>
                    <br/>
                    <div class="form-group">
                      <label for="subject" class="bold">Subject</label>
                      <input 
                        type="text" 
                        class="form-control" 
                        id="subject" 
                        name="subject"
                        required>
                    </div>
                    <br/>
                    <div class="form-group">
                      <label for="coverage" class="bold">Coverage</label>
                      <input 
                        type="text" 
                        class="form-control" 
                        id="coverage" 
                        name="coverage"
                        required>
                    </div>
                    <br/>
                    <div class="form-group">
                        <label for="copyright" class="bold">Copyright Status</label>
                        {% for statement in rights %}
                        <div class="form-check">
                            <label class="form-check-label">
                                <input 
                                    type="checkbox" 
                                    class="form-check-input" 
                                    value="{{ statement }}">{{ statement }}
                            </label>
                        </div>
                        {% endfor %}
                    </div>
                    <br />
                    <div class="col-md-12 text-center">
                        <button type="submit" class="btn btn-primary bg-pitt-royal border-pitt-royal" disabled>
                            Apply Filters
                        </button>
                    </div>
                </form>
            </div>
        </div> 
    </div>
    <!-- Retrieval Methods -->
    <div class="col-md col-lg-8">
        <h5 align="left">Retrieval Method</h5>
        <p class="my-2 bold">Select the method for retrieving data.</p>
        <!-- Option Toggles -->
        <div id="retrievalMethod">
            <div class="form-group">
                <div class="form-check">
                    <input 
                        data-bs-toggle="collapse" 
                        data-bs-target="#collectionCollapse"
                        class="form-check-input" 
                        type="radio" 
                        name="retrievalMethodCollapseToggle" 
                        id="collectionCollapseToggle" 
                        checked>
                    <label class="form-check-label" for="collectionCollapseToggle">
                        By Collection 
                    </label>
                </div>
                <div class="form-check">
                    <input 
                        data-bs-toggle="collapse" 
                        data-bs-target="#identifiersCollapse"
                        class="form-check-input" 
                        type="radio" 
                        name="retrievalMethodCollapseToggle" 
                        id="identifiersCollapseToggle">
                    <label class="form-check-label" for="identifiersCollapseToggle">
                        List of Identifiers
                    </label>
                </div>  
                <div class="form-check">
                    <input 
                        data-bs-toggle="collapse" 
                        data-bs-target="#fileUploadCollapse"
                        class="form-check-input" 
                        type="radio" 
                        name="retrievalMethodCollapseToggle" 
                        id="fileUploadCollapseToggle">
                    <label class="form-check-label" for="fileUploadCollapseToggle">
                        CSV Upload
                    </label>
                </div>
            </div>
            <!-- Input Methods -->
            <div class="accordion-group">
                <!-- Collections -->
                <div class="card shadow-sm bg-light-gray mt-2">
                    <div class="card-body">
                        <div 
                            class="collapse accordionCollapse show" 
                            data-bs-parent="#retrievalMethod"
                            id="collectionCollapse">
                            <form method="POST">
                                <div class="form-group">
                                    <label for="parent_unit" class="bold">Collection(s)</label>
                                    <select 
                                        class="form-control" 
                                        name="collections" 
                                        id="collections"
                                        size="10"
                                        multiple>
                                        <option value="" disabled>Select collection(s)</option>
                                        {% for collection in collections %}
                                        <option value="{{ collection.collection_id }}">
                                            {{ collection.title }} ({{ collection.collection_id }})
                                        </option>
                                        {% endfor %}
                                    </select>
                                </div>
                                <br/>
                                <div class="col-md-12 text-center">
                                    <button type="submit" class="btn btn-primary bg-pitt-royal border-pitt-royal">
                                        Submit
                                    </button>
                                </div>
                            </form>
                        </div>
                        <!-- List of Identifiers -->
                        <div 
                            class="collapse accordionCollapse" 
                            data-bs-parent="#retrievalMethod"
                            id="identifiersCollapse">
                            <form method="POST" >  
                                <div class="form-group">
                                    <label for="item_ids" class="bold">Identifiers</label>
                                    <textarea class="form-control"
                                        id="item_ids"
                                        name="item_ids"
                                        rows="10"
                                        placeholder="Enter one identifier per line"
                                        ></textarea>
                                    <small>Not sure how to enter your list of identifiers? 
                                        <a href="#">Check out the FAQ!</a></small>
                                </div>
                                <br/>
                                <div class="col-md-12 text-center">
                                    <button type="submit" class="btn btn-primary bg-pitt-royal border-pitt-royal">
                                        Submit
                                    </button>
                                </div>
                            </form>
                        </div>
                        <!-- CSV File Upload -->
                        <div 
                            class="collapse accordionCollapse" 
                            data-bs-parent="#retrievalMethod"
                            id="fileUploadCollapse">
                            <form method="POST" enctype="multipart/form-data">
                                {% csrf_token %}
                                    <label for="csv_file" class="bold">File Upload</label>
                                <div class="input-group">
                                    <input class="form-control" 
                                        type="file" 
                                        accept=".csv"
                                        id="csv_file"
                                        name="csv_file">
                                    <div class="input-group-append">
                                        <button type="submit" class="btn btn-primary bg-pitt-royal border-pitt-royal">
                                            Upload
                                        </button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}